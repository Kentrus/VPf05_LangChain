# Learning Assistant

Учебный ассистент на Python и LangChain: превращает текст урока в конспект и вопросы для самопроверки, затем проверяет ответы ученика и выставляет оценки.

## Возможности

- **Цепочка А — «Учебный резюмер»**: из текста урока формируются краткое резюме, ключевые идеи (понятия, шаги, примеры) и 3–5 вопросов для самопроверки.
- **Цепочка Б — «Проверка ответов»**: на каждый вопрос можно дать ответ и получить разбор (анализ, плюсы/минусы, оценку 1–5 и пример идеального ответа).
- Вопросы задаются **по порядку**; любой вопрос можно **пропустить** (пустая строка или «пропустить»).
- После прохождения всех вопросов выводится **средний балл** по ответам (пропуски не учитываются).
- Текст урока можно ввести с консоли или передать из **файла** (удобно, если в тексте есть примеры кода).

## Требования

- Python 3.9+
- API-ключ OpenAI (или совместимый сервис)

## Установка

```bash
# Клонируйте или скопируйте проект, перейдите в каталог
cd VPf05_LangCain

# Создайте виртуальное окружение (по желанию)
python -m venv venv
# Windows:
venv\Scripts\activate
# Linux/macOS:
# source venv/bin/activate

# Установите зависимости
pip install -r requirements.txt
```

## Настройка

В корне проекта создайте файл `.env` (можно скопировать из `.env.example`):

```env
OPENAI_API_KEY=ваш_ключ_api
OPENAI_MODEL=gpt-4o-mini
```

Секреты не должны попадать в репозиторий — добавьте `.env` в `.gitignore`.

## Запуск

**Вариант 1 — текст урока вводится в консоли:**

```bash
python main.py
```

Программа попросит ввести текст (несколько строк; пустая строка — конец ввода). Если в тексте есть код, при вставке в терминал строки могут выполниться как команды — в таком случае используйте вариант 2.

**Вариант 2 — текст урока из файла (рекомендуется при наличии кода):**

```bash
python main.py путь/к/уроку.txt
```

Файл должен быть в кодировке UTF-8.

## Сценарий работы

1. Загрузка конфигурации и модели.
2. Ввод текста урока (консоль или файл).
3. Цепочка А: резюме → ключевые идеи → вопросы. В консоли выводятся:
   - **=== РЕЗЮМЕ ===**
   - **=== КЛЮЧЕВЫЕ ИДЕИ ===**
   - **=== ВОПРОСЫ ДЛЯ САМОПРОВЕРКИ ===** (нумерованный список).
4. Ответы по порядку: для каждого вопроса программа показывает «Вопрос N из M», вы вводите ответ или пропускаете (пустая строка или слово «пропустить»). При ответе выводится **=== РАЗБОР ОТВЕТА ===** с оценкой X/5.
5. После последнего вопроса — **=== СРЕДНИЙ БАЛЛ ===** (среднее по всем ответам или сообщение, если все вопросы пропущены).

## Структура проекта

```
.
├── .env                 # секреты (не в git)
├── .env.example         # пример переменных окружения
├── README.md
├── learning_assistant_spec.md
├── requirements.txt
├── config.py            # загрузка .env, LLM, системные промпты
├── main.py              # CLI и сценарий
└── chains/
    ├── __init__.py
    ├── resumer.py       # цепочка А — резюме, идеи, вопросы
    └── answer_checker.py # цепочка Б — проверка ответа
```

## Логи

- `[INFO]` — конфигурация, модель, загрузка файла.
- `[А]` — шаги цепочки резюмирования (резюме, ключевые идеи, вопросы).
- `[Б]` — переход к ответам, пропуск вопроса, анализ ответа, завершение.

Подробная спецификация и форматы промптов — в `learning_assistant_spec.md`.
